!function(){const e="1.0.6";let n=`Inicio libreria M_RVMP V${e} - DL `;window.dataLayer?n+="predefinido":n+="no predefinido",window.dataLayer=window.dataLayer||[],window.dataLayer.push(n);const a=["tienda.movistar.com.ar","movistar.com.ar","movistarempresas.com.ar","movistarpromos.com.ar","promosmovistar.com"],i=["product_list_order","price","manufacturer","movistar_internalmemory","movistar_screensize","movistar_camera","tab","planID","plan","gafn","gafl","gasn","gast"],o=["f_"],r={banner:"banner",seccion:"section",producto:"product",enlace:"link",sticky:"sticky",intervencion:"intervention",mensaje:"modal"},c={page:"rvmp_page",dom_ready:"rvmp_dom_ready",window_load:"rvmp_window_load",section_impression:"rvmp_section_impression",click:"rvmp_click",download:"rvmp_download",view_promotion:"rvmp_view_promotion",select_promotion:"rvmp_select_promotion",view_item_list:"rvmp_view_item_list",select_item:"rvmp_select_item",modal_impression:"rvmp_modal_impression",modal_click:"rvmp_modal_click",sticky_impression:"rvmp_sticky_impression",sticky_click:"rvmp_sticky_click",service_call:"rvmp_service_call",service_call_ok:"rvmp_service_call_ok",service_call_failed:"rvmp_service_call_failed",event_undefined:"rvmp_action_undefined",error_page:"rvmp_error_page"};let s={},l=0;const d=/^.*\.(jpg|gif|doc|pdf|doc(m|x)?|xls(x|m)?|ppt(x|m)?)$/i;let m={history_referral:"",setHistoryReferral:function(){m.history_referral=document.location.href},stringInList:function(e,t){try{t&&e.some((function(e){return!!t.includes(e)}))}catch(e){console.log(e.message)}},getParameterByName:function(e,t){try{if(!e)return null;t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)","i").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}catch(e){console.log(e.message)}},cleanObject:function(e){if("object"!=typeof e||Array.isArray(e))return e;var t={};for(var n in e)if(e.hasOwnProperty(n)&&null!==e[n]&&void 0!==e[n])if("object"==typeof e[n]){var a=m.cleanObject(e[n]);Object.keys(a).length>0&&(t[n]=a)}else t[n]=e[n];return t},setHeaderOrFooter:function(e){e.setAttribute("data-element-ga",r.seccion),e.setAttribute("data-ga-section-name",e.tagName.toLowerCase())},setEnlace:function(e){"function"==typeof e[Symbol.iterator]?e.forEach((function(e){e.getAttribute("data-element-ga")||e.setAttribute("data-element-ga",r.enlace)})):e.setAttribute("data-element-ga",r.enlace)},setDeviceAttributes:function(e){try{navigator.deviceMemory&&navigator.hardwareConcurrency&&(e.ram_memory=navigator.deviceMemory,e.logical_cores=navigator.hardwareConcurrency)}catch(e){console.log(e.message)}},getPageType:()=>performance.getEntriesByType("navigation")[0].type,getRedirects:()=>performance.getEntriesByType("navigation")[0].redirectCount,buildDomReady:function(e){try{if(!e.noExecPO){Object.keys(e.fcp).length>0&&(A.fcp_time=m.roundTwo(e.fcp.fcp_time)),e.fid.isFirst||(A.fid_time=m.roundTwo(e.fid.fid_time),A.fid_event=e.fid.fid_event),A.dom_time=m.roundTwo(performance.getEntriesByType("navigation")[0].domInteractive);let t=A;this.dlPush({time:t},c.dom_ready)}}catch(e){console.log(e.message)}},buildWindowLoaded:function(e){try{if(!e.noExecPO){T={...e.cls,...e.tbt,...e.lcp},m.roundTwo(e.fcp.fcp_time)!==A.fcp_time&&(T.fcp_time=m.roundTwo(e.fcp.fcp_time)),e.fid.isFirst||(T.fid_time=m.roundTwo(e.fid.fid_time),T.fid_event=e.fid.fid_event),T.load_time=m.roundTwo(performance.getEntriesByType("navigation")[0].domComplete);let t=T;this.dlPush({time:t},c.window_load)}}catch(e){console.log(e.message)}},getPositionBanner:function(e){try{let t=document.documentElement.scrollHeight,n=window.pageYOffset||document.documentElement.scrollTop,a=e.getBoundingClientRect().top+n,i=e.getBoundingClientRect().height/2;return parseInt(100*(a+i)/t)}catch(e){console.log(e.message)}},cleanUrl:function(e,t){try{let n="",a=e.href,i=e.hash??"";const o=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t)});return t.forEach((function(e){o[e]&&(n.length>0?n+="&"+e+"="+o[e]:n+="?"+e+"="+o[e])})),a.split(/[(?|#)]/)[0]+i+n}catch(e){console.log(e.message)}},isObjectNull:e=>0===Object.keys(e).length,fixString:function(e){try{if(e)return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/gi," ").replace(/\s+/g," ").toLowerCase().trim().substring(0,100)}catch(e){console.log(e.message)}},containsBusiness:function(e,t,n){try{!Object.keys(s[e][t]).includes("business")&&Object.keys(h).length>0&&(n.closest(I)||(s[e][t].business=h))}catch(e){console.log(e.message)}},dlPush:function(e,t){try{let n=JSON.parse(JSON.stringify(e));n.event=t,window.dataLayer.push(n)}catch(e){console.log(e.message)}},getItemOrPromotionOrMessage:e=>["banner","product","modal","sticky","intervention"].includes(e),buildElem:function(e,t,n){try{if(m.getItemOrPromotionOrMessage(t)&&n.target.closest(B)){let t=n.target.closest(B),a=parseInt(t.dataset.gaIndex),i=t.dataset.elementGa;return s[i][a].link.text=m.getLinkText(n.target),s[i][a].link.aria_label=m.getAriaLabel(n.target),{...e,...s[i][a]}}return e}catch(e){console.log(e.message)}},getSection:function(e){try{if(e.closest(N)&&e.closest(N).dataset.gaIndex){let t=e.closest(N).dataset.gaIndex;return s.section[t].section}}catch(e){console.log(e.message)}},isInBannerOrProductoOrMensaje:function(e){return null!=e.closest(O+","+P+","+q)},isBannerOrProducto:function(e){return e.dataset&&e.dataset.elementGa&&[r.banner,r.producto,r.intervencion].includes(e.dataset.elementGa)},isInBannerOrProducto:function(e){return null!=e.closest(I+","+P+","+L)},getDinValues:function(e,t,n=void 0){let i={};try{switch(e){case"modal":if("click"==t)return c.modal_click;if("impression"==t)return c.modal_impression;if("attributes"==t)return i["modal-message"]=m.fixString(n.innerText),m.getSection(n)&&(i.section=m.getSection(n)),i;break;case"banner":case"intervention":if("click"==t)return c.select_promotion;if("impression"==t)return c.view_promotion;if("attributes"==t){return i["creativity-alt_image"]=m.fixString(function(e){let t=e.getElementsByTagName("img"),n=[];if(t.length>0)for(img in t)t[img]&&img<t.length&&(t[img].getAttribute("alt")&&""!=t[img].getAttribute("alt")?n.push(e.innerText):n.push(t[img].getAttribute("alt")));else n.push(e.innerText);return n.join("::")}(n)),m.getSection(n)&&(i.section=m.getSection(n)),i}break;case"sticky":if("click"==t)return c.sticky_click;if("impression"==t)return c.sticky_impression;if("attributes"==t)return m.getSection(n)&&(i.section=m.getSection(n)),i["creativity-text"]=m.fixString(n.innerText),i;break;case"product":if("click"==t)return c.select_item;if("impression"==t)return c.view_item_list;if("attributes"==t&&m.getSection(n))return i.section=m.getSection(n),i;break;case"section":if("impression"==t)return c.section_impression;if("attributes"==t)return i["section-position"]=m.getPositionBanner(n),i;break;case"link":if("click"==t){let e=c.click;return n&&n.href&&d.test(n.href)&&(e="download"),e}if("impression"==t)return c.event_undefined;if("attributes"==t)return null!=typeof n&&("INPUT"!=n.tagName&&"SELECT"!=n.tagName?(n.href&&(i["link-href"]=n.href,i["link-escape"]=m.stringInList(a,n.href),d.test(n.href)&&(i["files-src_file"]=n.href)),i["link-text"]=m.getLinkText(n),i["link-aria_label"]=m.getAriaLabel(n),void 0!==typeof n.target&&null!==typeof n.target&&void 0!==n.target&&"null"!=typeof n.target?i["link-target"]=n.target.includes("blank")?"blank":"self":i["link-target"]="self"):i["link-value"]=m.fixString(n.value)),m.getSection(n)&&(i.section=m.getSection(n)),i;break;default:return"undefined"}}catch(e){console.log(e.message)}},dlPushFieldErrors:function(){try{let t=document.querySelectorAll("input, select");for(var e=0;e<t.length;e++)if(t[e].ariaInvalid&&"true"==t[e].ariaInvalid){let n={error:{code_error:"campo de formulario con error",message_error:t[e].name+"::"+t[e].id+"::"+t[e].type}};m.dlPush(n,"errors")}}catch(e){console.log(e.message)}},setClickListener:function(e){try{e.addEventListener("click",(function(e){let t=e.target.closest("a, button, [aria-expanded]")||e.target.matches("a, button, [aria-expanded]")||null;if(!(null==t||m.isBannerOrProducto(e.currentTarget)&&t.ariaExpanded)&&(["A","BUTTON"].includes(t.tagName)||t.ariaExpanded)){let n=this.getAttribute("data-ga-index"),a=this.getAttribute("data-element-ga"),i=m.getDinValues(a,"click",this),o=m.buildElem(s[a][n],a,e);o.control||m.isInSlickSlider(o,t),m.dlPush(o,i),b=i,[c.select_item,c.select_promotion,c.sticky_click].includes(i)&&(E=o.product),"BUTTON"!=e.target.tagName&&"BUTTON"!=this.tagName||m.dlPushFieldErrors()}}))}catch(e){console.log(e.message)}},setChangeListener:function(e){e.addEventListener("change",(function(e){let t=this.getAttribute("data-ga-index"),n=this.getAttribute("data-element-ga");m.dlPush(m.buildElem(s[n][t],n,e),m.getDinValues(n,"click",this))}))},isInSlickSlider:function(e,t){if(t.closest(".slick-initialized")&&t.closest(".slick-initialized").slick){let n={rotation:"manual"},a=t.closest(".slick-initialized").slick.options;a.autoplay&&(n.rotation="automatica",n.rotation_speed=a.autoplaySpeed/1e3),e.control=n}},modalIntersection:function(e){try{e.forEach?e.forEach((function(e){G.observe(e)})):e.getAttribute("modalmethod")&&"generado_dinamicamente"==e.getAttribute("modalmethod")&&G.observe(e)}catch(e){console.log(e.message)}},buildObj:function(e,t,n,a,i,o,c){try{if("estandar"==e)if(t[0]==r.producto){s[i][o][t[0]]||(s[i][o][t[0]]=[{}]);let e=c.getAttribute(n).split(",");for(var l=0;l<e.length;l++)if(s[i][o][t[0]][l]||(s[i][o][t[0]][l]={}),s[i][o][t[0]].length>1&&1==e.length)for(var d=0;d<s[i][o][t[0]].length;d++)s[i][o][t[0]][d][t[1]]=e[l];else s[i][o][t[0]][l][t[1]]=e[l].trim()}else t[1]?(s[i][o][t[0]]||(s[i][o][t[0]]={}),s[i][o][t[0]][t[1]]=c.getAttribute(n)):s[i][o][a]=c.getAttribute(n);else t[1]?(s[i][o][t[0]]||(s[i][o][t[0]]={}),s[i][o][t[0]][t[1]]=n):(s[i][o][t]||(s[i][o][t]={}),s[i][o][t]=n)}catch(e){console.log(e.message)}},setElements:function(e,t,n){try{let a=e.getAttributeNames();s[t]||(s[t]={}),s[t][n]={},a.forEach((function(a){if(a.indexOf("-ga-")>-1){let i=a.replace("data-ga-","");splitedKey=i.split("-"),m.buildObj("estandar",splitedKey,a,i,t,n,e)}}));let i=m.getDinValues(t,"attributes",e);if(i&&"object"==typeof i)for(att in i)m.buildObj("domBased",att.split("-"),i[att],void 0,t,n,e)}catch(e){console.log(e.message)}},setAditionals:function(e,t){try{if([r.banner,r.producto,r.seccion].includes(e)){let n=e==r.seccion?document:t.closest(N);if(n&&e!=r.seccion){let a=Array.prototype.slice.call(n.querySelectorAll("[data-element-ga="+e+"]")).indexOf(t)+1,i=e==r.banner?"data-ga-creativity-position":"data-ga-product-index";t.setAttribute(i,a)}}}catch(e){console.log(e.message)}},createElement:function(e){try{e.setAttribute("data-ga-index",++l);const t=e.dataset.elementGa,n=e.dataset.gaSectionObservable;m.setAditionals(t,e),m.setElements(e,t,l),m.containsBusiness(t,l,e),"INPUT"==e.tagName||"SELECT"==e.tagName?m.setChangeListener(e):(t!=r.seccion&&(t!=r.enlace||!m.isInBannerOrProductoOrMensaje(e))||e.ariaExpanded&&m.isInBannerOrProducto(e))&&m.setClickListener(e),([r.banner,r.producto,r.sticky,r.intervencion].includes(t)||t==r.seccion&&"true"==n)&&m.elementIntersection(e)}catch(e){console.log(e.message)}},verificateAndCreateElements:function(e){try{if(null!=e)if("function"==typeof e[Symbol.iterator])for(const t of e)m.createElement(t);else m.createElement(e)}catch(e){console.log(e.message)}},getAriaLabel:e=>m.fixString(e.ariaLabel),getLinkText:e=>m.fixString(e.innerText)||m.fixString(e.getAttribute("alt"))||m.fixString(e.textContent)||"",roundTwo:e=>Math.round(100*e)/100,elementIntersection:function(e){try{e.forEach?e.forEach((function(e){G.observe(e)})):G.observe(e)}catch(e){console.log(e.message)}},historyListen:function(){try{!function(){let e=history.pushState;history.pushState=function(){let t=e.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationchange")),t};let t=history.replaceState;history.replaceState=function(){let e=t.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationchange")),e},window.addEventListener("popstate",(()=>{window.dispatchEvent(new Event("locationchange"))}))}(),["locationchange","hashchange"].forEach((e=>{window.addEventListener(e,(function(e){"locationchange"!=e.type&&"hashchange"!=e.type||m.history_referral==document.location.href||(u.page_location=document.location.href,u.clear_location=m.cleanUrl(document.location,i),u.page_title=document.title,m.dlPush(m.cleanObject({page:u,content:g,business:h,checkout:_,paging:f,search:y,filter:p,network:k,device:S}),c.page)),m.setHistoryReferral()}))}))}catch(e){console.log(e.message)}}},u={},g={},f={},p={},y={},h={},_={},v=0,b="",E={},w={noExecPO:!1,lcp:{},cls:{cls_score:0},fid:{isFirst:!0},fcp:{},tbt:{tbt_time:0}},k={},S={},A={},T={},x="a:not([data-ga-index]), button:not([data-ga-index])",O='[data-element-ga="banner"],[data-element-ga="sticky"],[data-element-ga="intervention"]',P='[data-element-ga="product"]',N='[data-element-ga="section"]',L='[data-element-ga="intervention"]',I='[data-element-ga="banner"]',B='[data-element-ga="link"]',q='[data-element-ga="modal"]',C=":not([data-ga-index])",j=':not([data-dinamic-ga="true"])',D='[data-element-ga="banner"]:not([data-ga-index]), [data-element-ga="product"]:not([data-ga-index]), [data-element-ga="section"]:not([data-ga-index])',R=["BUTTON","A"],U=document.getElementsByTagName("meta"),F=[];for(t in U)U[t].name&&U[t].name.includes("ga-")&&F.push(U[t].name.substr(3));F.forEach((function(e){try{metaSearch="ga-"+e;let t=document.querySelector("meta[name="+CSS.escape(metaSearch)+"]");if(t)if(t.content){let n=e.split("-");"content"==n[0]?g[e.split("-").slice(-1)[0]]=t.content:"business"==n[0]?h[e.split("-").slice(-1)[0]]=t.content:"checkout"==n[0]&&(_[e.split("-").slice(-1)[0]]=t.content)}else g[e]="content inexistente";else g[e]="meta inexistente"}catch(e){console.log(e.message)}})),document.location.search.replace("?","").trim().split("&").forEach((function(e){let t=e.split("=")[0];[o.includes(t)]&&(p[t.substring(0)]=m.getParameterByName(document.location.href,t))})),m.getParameterByName(document.location.href,"q")&&(y.term=m.getParameterByName(document.location.href,"q")),m.getParameterByName(document.location.href,"p")&&(f.page_number=m.getParameterByName(document.location.href,"p")),u.page_response=m.roundTwo(performance.getEntriesByType("navigation")[0].responseStart),u.page_entryway=m.getPageType(),u.page_redirects=m.getRedirects();let M=document.querySelector('meta[name="keywords"]');M&&M.content&&(g.seokeywords=M.content);let z=document.querySelector('meta[name="robots"]');if(z&&z.content&&(g.seorobot=z.content),"undefined"!=typeof rvmp_ga_content_testab&&(g.test_ab=rvmp_ga_content_testab),g.script_version=e,navigator.connection)for(let e of Object.keys(Object.getPrototypeOf(navigator.connection)))null!=navigator.connection[e]&&(k[e]=navigator.connection[e]);if(m.setDeviceAttributes(S),u.page_location=document.location.href,u.clear_location=m.cleanUrl(document.location,i),u.page_title=document.title,m.dlPush(m.cleanObject({page:u,content:g,business:h,checkout:_,paging:f,search:y,filter:p,network:k,device:S}),c.page),m.setHistoryReferral(),"error"===g.category_page)m.dlPush({page:u},c.error_page);m.historyListen();const G=new IntersectionObserver((function(e){e.forEach((function(e){try{if(e.isIntersecting&&e.target.getAttribute("data-element-ga")){let t=e.target.getAttribute("data-ga-index"),n=e.target.getAttribute("data-element-ga");n==r.mensaje&&delete s[n][t].product,s[n][t].control||m.isInSlickSlider(s[n][t],e.target);let a=m.getDinValues(n,"impression"),i=E;[c.select_promotion,c.select_item,c.sticky_click].includes(b)&&i?s[n][t].product=i:s[n][t],m.dlPush(s[n][t],m.getDinValues(n,"impression")),b=a,"modal"!=n&&G.unobserve(e.target)}}catch(e){console.log(e.message)}}))}),{threshold:.5,delay:1500});try{new PerformanceObserver((function(e){e.getEntries().forEach((function(e){"paint"==e.entryType&&"first-contentful-paint"==e.name?w.fcp.fcp_time=e.startTime:"largest-contentful-paint"==e.entryType&&e.url?(w.lcp.lcp_time=e.renderTime,w.lcp.lcp_size=m.roundTwo(e.size/1024),w.lcp.lcp_source=e.url):"longtask"==e.entryType?w.tbt.tbt_time+=e.duration-50:"layout-shift"==e.entryType?e.hadRecentInput||(w.cls.cls_score+=m.roundTwo(e.value)):"first-input"==e.entryType&&1==w.fid.isFirst&&(w.fid.fid_time=m.roundTwo(e.processingStart-e.startTime),w.fid.fid_event=e.name,w.fid.isFirst=!1)}))})).observe({entryTypes:["largest-contentful-paint","first-input","paint","longtask","layout-shift"]})}catch(e){w.noExecPO=!0}window.document.addEventListener("ga_service_call",(e=>{try{let t=e.detail||void 0;v=e.timeStamp,m.dlPush({service:t},c.service_call)}catch(e){console.log(e.message)}})),window.document.addEventListener("ga_service_answer",(e=>{try{const{endpoint:t,response_code:n,...a}=e.detail;let i={endpoint:t,response_code:n};v&&(i.response_delay=e.timeStamp-v);let o=m.isObjectNull(a)?{service:i}:{service:i,ctc:a},r=parseInt(i.response_code)<400?c.service_call_ok:c.service_call_failed;v=0,m.dlPush(o,r)}catch(e){console.log(e.message)}})),document.addEventListener("DOMContentLoaded",(function(){if(document.querySelector("header")){const e=document.querySelector("header");m.setHeaderOrFooter(e)}if(document.querySelector("footer")){const e=document.querySelector("footer");m.setHeaderOrFooter(e)}try{const e=[...document.getElementsByTagName("a")],t=[...document.getElementsByTagName("button")],n=[...document.querySelectorAll("input[type=radio],input[type=checkbox],input[type=date],input[type=time],input[type=submit],select")];m.setEnlace(e),m.setEnlace(t),m.setEnlace(n);const a=document.querySelectorAll(N+C),i=document.querySelectorAll(O+C+j),o=document.querySelectorAll(P+C+j),r=document.querySelectorAll(B+C),c=document.querySelectorAll(q+C);m.verificateAndCreateElements(a),m.verificateAndCreateElements(i),m.verificateAndCreateElements(o),m.verificateAndCreateElements(r),m.verificateAndCreateElements(c);const s=document.querySelectorAll("[aria-expanded]"+C);m.setEnlace(s),m.verificateAndCreateElements(s)}catch(e){console.log(e.message)}const e=document.querySelectorAll(q);e.forEach((function(e){e.setAttribute("modalmethod","activado_por_clase")})),e.length>0&&m.modalIntersection(e);let t=new MutationObserver((function(e){e.flatMap((e=>{const t=e.target,n=t.closest('[data-element-ga="modal"]'),a=t.querySelectorAll(q+C),i=Array.from(e.addedNodes),o=[t,n,...a,...i].filter((e=>e&&1===e.nodeType&&e.dataset&&e.dataset.elementGa&&!e.dataset.gaIndex)),r=[t,n,...i].filter((e=>e&&1===e.nodeType&&("A"===e.tagName||"LI"===e.tagName||"BUTTON"===e.tagName&&!e.hasAttribute("data-ga-index"))));return o.concat(r)})).forEach((function(e){try{if(e.dataset.elementGa&&!e.dataset.gaIndex&&("A"!==e.tagName||"BUTTON"!==e.tagName)){let t=e.getAttribute("modalmethod");if(e.dataset){if(null==t||null==t){let t=e.dataset.elementGa;m.setElements(e,t,l),e.setAttribute("modalmethod","generado_dinamicamente"),m.verificateAndCreateElements(e),m.modalIntersection(e)}}else;"attributes"==e.type&&"data-dinamic-ga"==e.attributeName&&"false"==e.dataset.dinamicGa&&e.matches(D)&&m.createElement(e)}if("A"===e.tagName||"BUTTON"===e.tagName){e.closest('[data-element-ga="modal"]'),e=[e].flat();let t=[];t=e.length>1?[...e].filter((t=>e.querySelectorAll(x).length>0||e.querySelectorAll(D).length>0||e.matches(x))):[...e].filter((e=>e.matches(x).length>0||e.querySelectorAll(D).length>0||e.matches(x))),t.length>0?t.forEach((function(e){e.querySelectorAll(x).length>0&&e.querySelectorAll(x).forEach((function(e){m.setEnlace(e),m.createElement(e)})),e.querySelectorAll(D).length>0&&e.querySelectorAll(D).forEach((function(e){m.createElement(e)}));const t=e.closest(x)?.tagName;t&&R.includes(t)&&m.createElement(e)})):t.length}}catch(e){console.log(e.message)}}))}));m.buildDomReady(w),t.observe(document.querySelector("body"),{attributes:!0,subtree:!0,childList:!0,attributeFilter:["data-dinamic-ga"]})})),window.onload=function(){m.buildWindowLoaded(w)}}();